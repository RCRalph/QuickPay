var fixerApi=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_URL=void 0,t.DEFAULT_URL="http://data.fixer.io/api"}));t(r);r.DEFAULT_URL;var i=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureDateString=void 0;const n=e=>e<10?"0"+e:e.toString();function r(e){return`${e.getUTCFullYear()}-${n(e.getMonth()+1)}-${n(e.getDate())}`}t.ensureDateString=function(e){if("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e instanceof Date)return r(e);throw new TypeError("Invalid date argument: "+e)},t.default=r}));t(i);i.ensureDateString;var o=n((function(t,n){var o=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.Fixer=void 0;n.Fixer=class{constructor(e={}){this.basicOptions={baseUrl:e.baseUrl||r.DEFAULT_URL,accessKey:e.accessKey}}set({baseUrl:e,accessKey:t}={}){return this.basicOptions.baseUrl=e||this.basicOptions.baseUrl,this.basicOptions.accessKey=t||this.basicOptions.accessKey,this}forDate(e,t={}){return o(this,void 0,void 0,(function*(){return this.request("/"+i.ensureDateString(e),t)}))}latest(e={}){return o(this,void 0,void 0,(function*(){return this.request("/latest",e)}))}symbols(e={}){return o(this,void 0,void 0,(function*(){return this.request("/symbols",e)}))}convert(e,t,n,r){return o(this,void 0,void 0,(function*(){return this.request("/convert",{from:e,to:t,amount:n,date:r})}))}timeseries(e,t,n={}){return o(this,void 0,void 0,(function*(){const r=i.ensureDateString(e),o=i.ensureDateString(t);return this.request("/timeseries",Object.assign({start_date:r,end_date:o},n))}))}}}));t(o);o.Fixer;var s=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.entries(e).map(([e,t])=>`${e}=${encodeURIComponent(""+(t instanceof Array?t.join(","):t))}`).join("&")}}));t(s);var u=n((function(t,n){var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});class i extends o.Fixer{constructor(e,...t){super(...t),this.fetch=e}request(e,t){return r(this,void 0,void 0,(function*(){const n=t.access_key||this.basicOptions.accessKey;if(!n)throw new Error("access_key is required to use fixer");const r=Object.entries(t).reduce((e,[t,n])=>Object.assign(Object.assign({},e),n?{[t]:n}:{}),{access_key:n}),i=`${this.basicOptions.baseUrl}${e}`,o=yield this.fetch(`${i}?${s.default(r)}`);let u;try{u=yield o.json()}catch(e){throw new Error(`Request to ${i} resulted in non-JSON response`)}if(u.error)throw new Error(`${u.error.type}: ${u.error.info}`);return u}))}}n.default=i}));return t(u),t(n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=new u.default(window.fetch.bind(window))})))}();
